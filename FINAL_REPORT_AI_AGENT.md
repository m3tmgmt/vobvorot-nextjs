# üìä –§–ò–ù–ê–õ–¨–ù–´–ô –û–¢–ß–ï–¢: AI –ê–ì–ï–ù–¢ VOBVOROT

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –ó–ê–î–ê–ß–ò

### 1. **–°–æ–∑–¥–∞–Ω–∏–µ AI –∞–≥–µ–Ω—Ç–∞ —Å Gemini Pro**
- ‚úÖ –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ AI –∞–≥–µ–Ω—Ç–∞ —Å–æ–∑–¥–∞–Ω–∞
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google Gemini Pro API
- ‚úÖ Intent recognition –¥–ª—è –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞
- ‚úÖ 8 –±–∞–∑–æ–≤—ã—Ö action handlers —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 2. **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ `getPrismaClient`
- ‚úÖ –£–¥–∞–ª–µ–Ω hardcoded API key
- ‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω–æ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ MarkdownV2 –≤–µ–∑–¥–µ
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω rate limiter (10 req/min per user, 50 global)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### 3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Prisma Accelerate
- ‚úÖ DATABASE_URL –æ–±–Ω–æ–≤–ª–µ–Ω –≤ .env.local
- ‚úÖ DIRECT_DATABASE_URL –¥–æ–±–∞–≤–ª–µ–Ω –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π
- ‚úÖ –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫

### 4. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**
- ‚úÖ Stateless –¥–∏–∑–∞–π–Ω –¥–ª—è Vercel
- ‚úÖ TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- ‚úÖ –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (utils, rate-limiter, confirmation-manager)
- ‚úÖ Grammy framework –¥–ª—è Telegram Bot API

## üìä –¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–°

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Ñ—É–Ω–∫—Ü–∏–π: **8 –∏–∑ 100+** (8%)

#### ‚úÖ –†–∞–±–æ—Ç–∞—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏:
1. `view_orders` - –ø—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–∫–∞–∑–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
2. `add_product` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤
3. `search_customer` - –ø–æ–∏—Å–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤
4. `stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–∞–≥–∞–∑–∏–Ω–∞
5. `search_product` - –ø–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤
6. `update_order_status` - –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞
7. `add_category` - —Å–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
8. `view_categories` - –ø—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–π

#### ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ (92+):
- –í–∏–¥–µ–æ –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç (–∑–∞–≥—Ä—É–∑–∫–∞, —É–¥–∞–ª–µ–Ω–∏–µ, –ø—Ä–∏–≤—è–∑–∫–∞)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–∞–º–∏
- Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç–∞–≤–∫–æ–π
- –ü–ª–∞—Ç–µ–∂–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (–≤–æ–∑–≤—Ä–∞—Ç—ã, –ø—Ä–æ–≤–µ—Ä–∫–∞)
- –î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –ò –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ...

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env.local):
```env
DATABASE_URL="prisma+postgres://accelerate.prisma-data.net/?api_key=..."
DIRECT_DATABASE_URL="postgresql://vobvorot_owner:..."
GEMINI_API_KEY=AIzaSyAYSLsD4XW40XJm5uv6w71bYoZkTAeoU7Y
TELEGRAM_BOT_TOKEN=7700098378:AAGZ1zZOxiwXbJeknO9SvyN25KvfWQkQNrI
```

### API Endpoint:
- URL: `https://vobvorot.com/api/telegram/ai-assistant`
- –ú–µ—Ç–æ–¥: POST
- Webhook: –£–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ Telegram

### –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
```
src/app/api/telegram/ai-assistant/
‚îú‚îÄ‚îÄ route.ts              # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª (600+ —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ utils.ts              # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ rate-limiter.ts       # –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
‚îî‚îÄ‚îÄ confirmation-manager.ts # –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π
```

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´

1. **–¢–æ–ª—å–∫–æ 8% —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞** - –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ñ—É–Ω–∫—Ü–∏–π –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
2. **–ù–µ—Ç –≤–∏–¥–µ–æ —Ñ—É–Ω–∫—Ü–∏–π** - –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –º–∞–≥–∞–∑–∏–Ω–∞ —Å –≤–∏–¥–µ–æ
3. **–ù–µ—Ç –ø–ª–∞—Ç–µ–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π** - –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã –≤–æ–∑–≤—Ä–∞—Ç—ã
4. **–ù–µ—Ç email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π** - –∫–ª–∏–µ–Ω—Ç—ã –Ω–µ –ø–æ–ª—É—á–∞—é—Ç –ø–∏—Å—å–º–∞
5. **–ù–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞** - –±–æ—Ç "–∑–∞–±—ã–≤–∞–µ—Ç" –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è

## üìã –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1**: –î–æ–±–∞–≤–∏—Ç—å –≤–∏–¥–µ–æ –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç (–∫—Ä–∏—Ç–∏—á–Ω–æ!)
2. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2**: –î–æ–±–∞–≤–∏—Ç—å –ø–ª–∞—Ç–µ–∂–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
3. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3**: –î–æ–±–∞–≤–∏—Ç—å email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
4. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 4**: –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç
5. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 5**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ 80+ —Ñ—É–Ω–∫—Ü–∏–π

## üéØ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

AI –∞–≥–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –±–∞–∑–æ–≤—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã, –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ. –û–¥–Ω–∞–∫–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Ç–æ–ª—å–∫–æ 8% –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞. –î–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã –º–∞–≥–∞–∑–∏–Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å—Ä–æ—á–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤–∏–¥–µ–æ –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç –∏ –ø–ª–∞—Ç–µ–∂–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏.

---
*–û—Ç—á–µ—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω: 2025-01-29*