# –ì–∏–±—Ä–∏–¥–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ WesternBid

## üéØ –û–±–∑–æ—Ä –ø—Ä–æ–±–ª–µ–º—ã
–î–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç–æ–≤, –≤–≤–µ–¥–µ–Ω–Ω—ã–µ –Ω–∞ —Å–∞–π—Ç–µ VobVorot, –Ω–µ –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω—è–ª–∏—Å—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö –ø–ª–∞—Ç–µ–∂–Ω–æ–≥–æ —à–ª—é–∑–∞ WesternBid, —á—Ç–æ –∑–∞—Å—Ç–∞–≤–ª—è–ª–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤–≤–æ–¥–∏—Ç—å –≤—Å—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥

### 1. –£—Å–∏–ª–µ–Ω–Ω–æ–µ –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ (60+ –ø–æ–ª–µ–π)
- **Email –ø–æ–ª—è**: 8 –≤–∞—Ä–∏–∞—Ü–∏–π (email, payer_email, customer_email, buyer_email, etc.)
- **–¢–µ–ª–µ—Ñ–æ–Ω –ø–æ–ª—è**: 8 –≤–∞—Ä–∏–∞—Ü–∏–π (phone, telephone, mobile, contact_phone, etc.)
- **–ò–º—è –ø–æ–ª—è**: 11 –≤–∞—Ä–∏–∞—Ü–∏–π (first_name, last_name, payer_name, customer_name, etc.)
- **–ê–¥—Ä–µ—Å –ø–æ–ª—è**: 11 –≤–∞—Ä–∏–∞—Ü–∏–π (address1, street_address, shipping_address_1, etc.)
- **–ì–æ—Ä–æ–¥ –ø–æ–ª—è**: 8 –≤–∞—Ä–∏–∞—Ü–∏–π (city, town, locality, municipality, etc.)
- **–®—Ç–∞—Ç –ø–æ–ª—è**: 10 –≤–∞—Ä–∏–∞—Ü–∏–π (state, province, region, administrative_area, etc.)
- **–°—Ç—Ä–∞–Ω–∞ –ø–æ–ª—è**: 10 –≤–∞—Ä–∏–∞—Ü–∏–π (country, country_code, nation, iso_country_code, etc.)
- **ZIP –ø–æ–ª—è**: 11 –≤–∞—Ä–∏–∞—Ü–∏–π (zip, postal_code, postcode, zip_code, etc.)

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã —á–µ—Ä–µ–∑ webhook
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–ª–∞—Ç–µ–ª—å—â–∏–∫–∞ –∏–∑ webhook WesternBid
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ actualPayerEmail –∏ actualPayerName –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –ø–ª–∞—Ç–µ–ª—å—â–∏–∫–∞ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### 3. –ù–æ–≤—ã–µ –ø–æ–ª—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
```sql
actualPayerEmail String?    -- –†–µ–∞–ª—å–Ω—ã–π email –ø–ª–∞—Ç–µ–ª—å—â–∏–∫–∞
actualPayerName  String?    -- –†–µ–∞–ª—å–Ω–æ–µ –∏–º—è –ø–ª–∞—Ç–µ–ª—å—â–∏–∫–∞  
payerMetadata    String?    -- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø–ª–∞—Ç–µ–ª—å—â–∏–∫–∞ (JSON)
```

## üîß –ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### –§–∞–π–ª: `/src/lib/westernbid.ts`
- –†–∞—Å—à–∏—Ä–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `generatePaymentFormData()` —Å 60+ –ø–æ–ª—è–º–∏ –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π –ø–æ–ª–µ–π –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

### –§–∞–π–ª: `/src/app/api/webhooks/westernbid/route.ts`
- –§—É–Ω–∫—Ü–∏—è `extractCustomerDataFromWebhook()` –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–∞
- –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `handlePaymentCompleted()` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–ª–∞—Ç–µ–ª—å—â–∏–∫–∞
- –£–ª—É—á—à–µ–Ω–Ω—ã–µ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Ä–µ–∞–ª—å–Ω–æ–º –ø–ª–∞—Ç–µ–ª—å—â–∏–∫–µ

### –§–∞–π–ª: `/prisma/schema.prisma`
- –ù–æ–≤—ã–µ –ø–æ–ª—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–ª–∞—Ç–µ–ª—å—â–∏–∫–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

## üìä –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –≥–∏–±—Ä–∏–¥–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞

1. **–£–ª—É—á—à–µ–Ω–Ω—ã–π UX**: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ WesternBid
2. **–¢–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–ª–∞—Ç–µ–ª—å—â–∏–∫–∞ –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã
3. **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å**: –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
4. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –†–∞–±–æ—Ç–∞–µ—Ç —Å–æ –≤—Å–µ–º–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∑–∞–∫–∞–∑–∞–º–∏
5. **–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å**: –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –µ—Å–ª–∏ –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —á–∞—Å—Ç–∏—á–Ω–æ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `test-autofill.html` —Å 93 –ø–æ–ª—è–º–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö.

## üöÄ –†–µ–∑—É–ª—å—Ç–∞—Ç
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "Try Payment Again" —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ –ø–æ–≤—Ç–æ—Ä–Ω—É—é –æ–ø–ª–∞—Ç—É
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞–∫ PayPal —Ç–∞–∫ –∏ Stripe —á–µ—Ä–µ–∑ WesternBid
- ‚úÖ –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å—é (60+ –ø–æ–ª–µ–π)
- ‚úÖ –î–∞–Ω–Ω—ã–µ –ø–ª–∞—Ç–µ–ª—å—â–∏–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –±–∞–∑–µ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∞—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–ª–∏–µ–Ω—Ç–µ –∏ –ø–ª–∞—Ç–µ–ª—å—â–∏–∫–µ

## üìù –°—Ç–∞—Ç—É—Å
- **–ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ**: ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (60+ –ø–æ–ª–µ–π)
- **Webhook –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ  
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
- **–î–µ–ø–ª–æ–π**: ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é